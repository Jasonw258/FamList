# 中文家庭共享购物清单Android应用需求文档

## 项目概述
开发一款专门针对中文家庭的简洁购物清单应用，名字是易购清单（FamList），填补市场空白。让家庭成员通过各自的手机设备共享购物清单，数据实时云端同步，界面专为中文家庭使用习惯设计，连10岁儿童都能轻松使用。

## 市场定位
- **目标用户**：中文家庭用户（中国大陆、台湾、香港、海外华人家庭）
- **市场空白**：目前缺乏专门的中文家庭购物清单应用
- **差异化**：比菜谱应用更专注，比电商购物车更家庭化，比微信小程序更专业
- **核心价值**：简洁、专注、儿童友好、中文优化

## 系统架构
- **多设备支持**：每个家庭成员在自己的手机上安装并使用应用
- **云端同步**：所有数据通过云端实时同步到所有家庭成员的设备
- **离线优先**：支持离线操作，联网后自动同步

## 核心功能需求

### 1. 家庭组管理（中文优化）
- **创建家庭组**：首次使用时创建家庭组，支持中文家庭名称（如"张家"、"我们家"）
- **家庭码分享**：生成6位数字家庭码，方便长辈使用（避免英文字母混淆）
- **加入家庭组**：通过数字家庭码加入，支持微信/QQ分享邀请链接
- **成员管理**：中文昵称设置（爸爸、妈妈、爷爷、奶奶、大宝、小宝等）
- **中文头像**：提供适合中国家庭的头像选择（生肖、卡通人物等）

### 2. 购物清单功能（中文家庭化设计）
- **智能商品输入**：
  - 支持中文商品名称，内置常用中文商品词库
  - 智能联想功能（输入"牛"自动提示"牛奶"、"牛肉"等）
  - 中文语音识别输入，支持方言识别
  - 商品分类：蔬菜🥬、水果🍎、肉类🥩、调料🧂、日用品🧴等中文分类
- **数量单位本土化**：
  - 支持中文数量单位（斤、两、袋、盒、瓶、包等）
  - 快捷数量选择（半斤、一斤、两斤、一袋、两袋等）
- **优先级标记**：
  - 🔴急需（快没了）、🟡一般（可买可不买）、🟢不急（有空再买）
  - 使用中文描述，更符合中国人表达习惯
- **购买场所标记**：
  - 🏪超市、🥬菜市场、🛒网购、🏬商场等中文场所标签
  - 帮助家庭成员知道去哪里买

### 3. 界面设计（中文用户体验优化）
- **中文字体优化**：使用适合中文阅读的字体，确保汉字清晰显示
- **大字号设计**：特别照顾中老年用户，字体比一般应用更大
- **简体/繁体支持**：根据用户地区自动适配或手动切换
- **颜色文化适应**：
  - 避免使用不吉利的颜色组合
  - 使用中国人喜爱的颜色搭配（红色代表重要、绿色代表完成等）
- **节日主题**：春节、中秋节等传统节日期间的特殊界面主题
- **长辈友好**：按钮够大、对比度高、操作简单

### 4. 中文文化特色功能
- **节日购物提醒**：临近春节、中秋等传统节日时，智能提醒购买年货、月饼等
- **本地生活整合**：
  - 支持添加常去的菜市场、超市位置
  - 集成高德地图，显示附近商店信息
- **中式料理支持**：
  - 内置中餐常用食材库（生抽、老抽、料酒、八角等）
  - 支持按菜系分类（川菜、粤菜、家常菜等）
- **方言语音识别**：支持普通话及主要方言的语音输入
- **微信生态整合**：支持通过微信分享购物清单给家人

## 技术规格

### 数据同步机制
- **实时同步**：使用Supabase PostgreSQL + Postgres Changes实时监听
- **离线支持**：本地SQLite缓存，联网后自动同步
- **冲突处理**：时间戳优先，避免数据丢失
- **同步状态显示**：清晰显示数据同步状态（已同步/同步中/离线）

### 开发框架
- **Android版本**：Kotlin + Android Jetpack Compose + Supabase-kt
- **未来iOS版本**：Swift + SwiftUI + Supabase-swift（同一后端）
- Material Design 3组件库（Android）
- 支持Android 7.0+（API Level 24+）、iOS 13.0+

## 详细页面设计

### 首次设置页面（中文优化）
```
🏠 欢迎使用家庭购物清单！

🆕 [创建新家庭] (大按钮)
🔗 [加入现有家庭] (大按钮)

如果选择"创建新家庭"：
→ 家庭名称：[我们家] [张家] [李家]（预设选项）
→ 我的昵称：[爸爸] [妈妈] [爷爷] [奶奶]（快捷选择）
→ 选择头像：[🐰兔子] [🐼熊猫] [🐲龙] [生肖头像]
→ 家庭邀请码：123456
→ [📱微信分享] [📋复制链接] 邀请家人

如果选择"加入现有家庭"：
→ 输入6位家庭码：[______]
→ 我的昵称：[大宝] [小宝] [哥哥] [妹妹]
→ 选择头像：[可爱动物头像选择器]
→ [加入家庭]
```

### 主页面（中文家庭化界面）
```
🏠 张家的购物清单 [⚙️设置]
📶 已同步 • 3分钟前

[➕ 我要买东西] (大按钮，醒目设计)

按家庭成员显示：
👨 爸爸要买的 (3样) [在线]
- 🥛 牛奶 2盒 [🔴急需] ✅已买到 [今天 14:30]
- 🍞 面包 1袋 [🟡一般] [🛒超市] [删除] [今天 15:20]

👩 妈妈要买的 (2样) [1小时前在线]  
- 🧴 洗发水 1瓶 [🟢不急] [🛒网购] [删除] [昨天 19:15]

👦 大宝要买的 (1样) [在线]
- 🍭 棒棒糖 5个 [🟡一般] [🏪便利店] [删除] [今天 16:00]

[🧹 清理已买到的] (底部按钮)
[📊 本月购物统计] (查看购物花费)
```

### 添加商品页面（中文智能化）
```
[←返回] 添加要买的东西

🛍️ 买什么：
[智能输入框] [🎤语音说话]
常用推荐：[🥛牛奶] [🍞面包] [🥬青菜] [🥩猪肉]

📦 买多少：
蔬菜类：[1斤] [2斤] [3斤] [自定义]
其他类：[1个] [1盒] [1袋] [1瓶] [自定义]

⚡ 急不急：
[🔴急需] [🟡一般] [🟢不急]

🏪 哪里买：
[🏪超市] [🥬菜市场] [🛒网购] [🏬商场]

👤 谁要买：
[选择头像] 大宝

💡 智能提示：根据季节推荐时令蔬果

[✅ 确定添加] (大按钮)
[❌ 取消]
```

## 跨平台扩展规划

### 当前阶段：Android版本
- 使用Kotlin + Jetpack Compose开发
- Supabase作为后端服务
- 完整的家庭购物清单功能

### 未来扩展：iOS版本
- 使用Swift + SwiftUI开发
- **共享同一个Supabase后端**
- Android和iOS用户可以实时共享数据
- 家庭成员可以混用不同系统的手机

### 跨平台优势
- **一个后端支撑两个平台**：降低维护成本
- **数据完全同步**：无论使用Android还是iPhone都能看到相同内容
- **开发效率高**：后端逻辑复用，只需开发前端界面

## 中文市场特色考虑

### 竞争对手分析
- **现有应用不足**：
  - 菜谱应用（下厨房、豆果美食）：功能复杂，购物清单只是附属功能
  - 电商平台购物车：个人化，不支持家庭共享
  - 微信小程序：功能简陋，体验不佳
- **市场空白**：缺乏专门的中文家庭购物清单应用

### 本土化优势
- **中文用户习惯**：符合中国人的购物和表达习惯
- **家庭文化**：理解中国家庭的购物决策模式
- **技术整合**：与微信、支付宝等本土生态整合
- **老少皆宜**：特别关照长辈和儿童的使用需求

### 家庭共享机制
- **多设备实时同步**：每人在自己手机操作，数据实时同步到所有家庭成员设备
- **在线状态显示**：显示每个成员的在线状态和最后活跃时间
- **操作通知**：重要操作（如添加急需商品）可推送通知给其他成员
- **数据一致性**：确保所有设备看到相同的购物清单内容

### 数据同步与安全
- **数据加密**：所有云端数据加密传输和存储
- **家庭隐私**：只有拥有家庭码的成员才能访问数据
- **备份机制**：定期自动备份到云端，防止数据丢失
- **同步冲突解决**：基于时间戳的自动冲突解决机制

## 开发优先级

### 第一阶段（MVP）
1. 家庭组创建/加入功能
2. 基础添加/查看/删除功能
3. Firebase实时数据同步
4. 简单的用户区分

### 第二阶段
1. 离线支持和数据缓存
2. 语音输入功能
3. 在线状态显示
4. 界面美化和动画效果

### 第三阶段
1. 推送通知功能
2. 购物历史记录
3. 商品分类和智能建议
4. 高级筛选功能

## 测试要求
- 在真实的中文家庭中进行可用性测试（包括不同地区方言用户）
- 测试多设备实时同步的稳定性和速度
- 验证中文输入法兼容性和语音识别准确度
- 测试长辈用户（50+岁）和儿童用户（10岁）的使用体验
- 验证不同网络环境下的同步表现
- 测试简体/繁体中文切换功能

## 交付物
1. 完整的Android APK文件（支持简体/繁体中文）
2. 源代码（中文注释，便于维护）
3. 中文用户使用说明（图文并茂，适合各年龄段）
4. 数据库设计文档（中文字段说明）
5. 中文商品词库和分类体系
6. 本土化测试报告